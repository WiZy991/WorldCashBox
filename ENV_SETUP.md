# Настройка переменных окружения

## Проблема: "SBIS_POINT_ID не настроен"

Если вы видите ошибку о том, что `SBIS_POINT_ID` не настроен, это означает, что переменные окружения не загружаются правильно.

## Решение

### 1. Создайте файл `.env.local`

В Next.js переменные окружения должны быть в файле **`.env.local`** (для разработки) или **`.env.production`** (для продакшена), а НЕ в файле `.env`!

Создайте файл `.env.local` в корне проекта со следующим содержимым:

```env
# Сервисный ключ СБИС (используется как токен доступа)
SBIS_SERVICE_KEY=JT1lnlaqTJ9ImP7Lhu6SnrDJFO7gQk5mO0tv83wsok4nbzS9ri4VbbvCKVeQIHDoMkwGnSCjMAF04M8pIL5tcH4BzaPsLiNuCijBx8Hp44w13YBWo7I6ID

# ID точки продаж в СБИС (ОБЯЗАТЕЛЬНО!)
SBIS_POINT_ID=206

# ID прайс-листа в СБИС (опционально, если не указан, будет использован первый доступный)
SBIS_PRICE_LIST_ID=15

# ID склада в СБИС (UUID, опционально - если не указан, будет автоматически выбран первый доступный склад)
SBIS_WAREHOUSE_ID=284a42ba-97cc-4d9c-98af-00000000100a

# Название склада для автоматического выбора (опционально, если не указан ID склада)
SBIS_WAREHOUSE_NAME=Склад32
```

### 2. Перезапустите сервер

**ВАЖНО:** После создания или изменения файла `.env.local` обязательно перезапустите сервер разработки:

1. Остановите сервер (нажмите `Ctrl+C` в терминале)
2. Запустите снова:
   ```bash
   npm run dev
   ```

### 3. Проверка

После перезапуска попробуйте снова нажать "Синхронизировать цены" в админ-панели.

## Для продакшена

Если вы развертываете на сервере, создайте файл `.env.production` с теми же переменными и перезапустите приложение.

## Примечание

- Файл `.env.local` автоматически игнорируется Git (добавлен в `.gitignore`)
- Не коммитьте файл `.env.local` в репозиторий
- Для разных окружений используйте разные файлы: `.env.local`, `.env.production`, `.env.development`
