# Админ-панель WorldCashBox

## Доступ

Админ-панель доступна по адресу: `/admin`

### Учетные данные по умолчанию:

- **Имя пользователя:** `admin`
- **Пароль:** `admin123`

⚠️ **Важно:** Измените учетные данные в переменных окружения перед развертыванием в продакшене!

## Настройка переменных окружения

Создайте файл `.env.local` в корне проекта:

```env
ADMIN_USERNAME=your_admin_username
ADMIN_PASSWORD=your_secure_password
```

## Функциональность

### 1. Дашборд (`/admin`)

- Статистика по товарам и акциям
- Быстрые действия для создания контента

### 2. Управление товарами (`/admin/products`)

- Просмотр всех товаров
- Добавление новых товаров
- Редактирование существующих товаров
- Удаление товаров
- Поиск по товарам

### 3. Управление акциями (`/admin/promotions`)

- Просмотр всех акций
- Создание новых акций
- Редактирование акций
- Удаление акций
- Установка дат действия акций

### 4. Управление изображениями (`/admin/images`)

- Загрузка изображений для товаров и акций
- Выбор категории для изображений
- Копирование URL изображений

## Структура данных

### Товары

Данные хранятся в `data/products.json` (создается автоматически при первом использовании)

### Акции

Данные хранятся в `data/promotions.json`

## API Endpoints

### Аутентификация

- `POST /api/admin/auth/login` - Вход в систему
- `POST /api/admin/auth/logout` - Выход из системы
- `GET /api/admin/auth/check` - Проверка аутентификации

### Товары

- `GET /api/admin/products` - Получить все товары
- `POST /api/admin/products` - Создать товар
- `PUT /api/admin/products/[id]` - Обновить товар
- `DELETE /api/admin/products/[id]` - Удалить товар

### Акции

- `GET /api/admin/promotions` - Получить все акции (только для админа)
- `GET /api/promotions` - Получить все акции (публичный доступ)
- `POST /api/admin/promotions` - Создать акцию
- `PUT /api/admin/promotions/[id]` - Обновить акцию
- `DELETE /api/admin/promotions/[id]` - Удалить акцию

### Загрузка файлов

- `POST /api/admin/upload` - Загрузить изображение

## Безопасность

- Все админ-маршруты защищены проверкой аутентификации
- Токены хранятся в httpOnly cookies
- В продакшене рекомендуется:
  - Использовать JWT токены
  - Хешировать пароли
  - Добавить rate limiting
  - Использовать HTTPS
  - Настроить CORS

## Загрузка изображений

Изображения загружаются в директорию `public/images/products/[category]/`

Доступные категории:

- `misc` - Разное
- `banners` - Баннеры
- `pos` - POS-системы
- `printers` - Принтеры
- `terminals` - Терминалы
- `cameras` - Камеры
- `smart` - Смарт-кассы
- `tsd` - ТСД

